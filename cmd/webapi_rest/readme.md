# Phantom REST API Server

## Описание

`webapi_rest` запускает HTTP-сервер, который предоставляет стандартный RESTful API для взаимодействия с ядром `phantomcore`. Этот сервер позволяет управлять ядром через универсальный и широко поддерживаемый протокол HTTP с использованием JSON.

## Ключевые возможности

-   **Универсальный интерфейс:** Любой язык программирования или инструмент, способный отправлять HTTP-запросы (cURL, Python, Node.js, браузер), может взаимодействовать с Phantom.
-   **Простота интеграции:** Идеально подходит для создания веб-интерфейсов (на React, Vue, Angular), которые общаются с этим бэкендом.
-   **Стандартные методы:** Использует стандартные HTTP-методы (`GET`, `POST`) и коды состояния.

## Сборка

```bash
go build -o phantom-rest-api ./cmd/webapi_rest
```

## Запуск и использование

```bash
./phantom-rest-api
# Сервер будет запущен на порту, указанном в конфигурации, например, :8080
```

**Примеры эндпоинтов:**

-   `GET /contacts`
    -   Возвращает список всех контактов в формате JSON.
-   `POST /messages`
    -   Отправляет новое сообщение. Тело запроса: `{"to": "PEER_HASH", "text": "Hello, world!"}`
-   `GET /history?for=PEER_HASH&limit=50`
    -   Возвращает историю сообщений для указанного чата.

## Архитектура

Сервер может быть реализован двумя способами:
1.  **Монолит:** Запускает собственное ядро `phantomcore`. Проще для быстрого старта.
2.  **Шлюз (Gateway):** Подключается к уже запущенному `phantomd` (демону) по gRPC и транслирует HTTP-запросы в gRPC-вызовы. Это более надежный и масштабируемый подход.

## Для кого это?

-   **Фронтенд-разработчики:** Для создания веб-интерфейсов для Phantom.
-   **Бэкенд-разработчики:** Для интеграции Phantom с другими системами и микросервисами.
-   **DevOps / SRE:** Для создания скриптов мониторинга и управления узлами Phantom.